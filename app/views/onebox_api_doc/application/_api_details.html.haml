#api-details
  %h2.ui.header.resourec__name 
    = api._controller_name

  .ui.divider

  %h1.ui.header.api__url
    %span.action.get{ "class" => "#{api._method.downcase}"}
      = api._method
    %span.url#url-path
      = api._url
    %a.ui.copy--btn.label{"data-clipboard-target" => "url-path"} Copy
    .sub.header
      = api._short_desc

  -# permission section
  .api__permission
    Permission : 
    - api._permissions.each do |permission_name|
      %a.ui.label.name
        = permission_name

  -# long description section
  %br
  %p.description
    = api._desc

  -# note section
  -# .ui.api__note.list
  -#   .item 
  -#     .header Note. 
  -#     .description
  -#       .list
  -#         - (1..3).each do |i|
  -#           .item 
  -#             %i.note--warning.circle.info.icon.link{ data: {content: "extension_name:version", variation: 'inverted', position: 'left center'} } 
  -#             .content
  -#               note of extension #{i} Lorem ipsum dolor sit amet, consectetur

  .ui.top.attached.tabular.menu
    %a.item{"data-tab" => "header"} Header
    %a.item{"data-tab" => "body"} Body
    %a.item.active{"data-tab" => "response"} Response
    %a.item{"data-tab" => "error"} Error

  .ui.bottom.attached.tab.segment{"data-tab" => "header"}
    = render partial: 'onebox_api_doc/application/params', locals: { params: Array(api._header.try(:_params)) }

  .ui.bottom.attached.tab.segment{"data-tab" => "body"}
    = render partial: 'onebox_api_doc/application/params', locals: { params: Array(api._body.try(:_params)) }

  .ui.bottom.attached.tab.active.segment{"data-tab" => "response"}
    = render partial: 'onebox_api_doc/application/params', locals: { params: Array(api._response.try(:_params)) }

  .ui.bottom.attached.tab.segment{"data-tab" => "error"}
    = render partial: 'onebox_api_doc/application/errors', locals: { codes: Array(api._error.try(:_codes)) }

  %script
    $('.params .param__from, .api__note .note--warning').popup();$('.menu .item').tab();


